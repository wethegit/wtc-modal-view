var WTCModalView=function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=!1,this.modal=document.createElement("div"),this.modalOverlay=document.createElement("div"),this.modalFocusStart=document.createElement("div"),this.modalFocusEnd=document.createElement("div"),this.modalClose=document.createElement("button"),this.modalClose.innerHTML="<span>Close</span>",this.modalWrapper=document.createElement("div"),this.modalContent=document.createElement("div"),this.className="modal",this.classNameOpen="modal--open",this.appended=!1,this._onOpen=null,this._onClose=null,this._focusOnClose=null,this.modal.classList.add(this.className),this.modalOverlay.classList.add("".concat(this.className,"__overlay")),this.modalFocusStart.classList.add("".concat(this.className,"__focus-start")),this.modalFocusEnd.classList.add("".concat(this.className,"__focus-end")),this.modalClose.classList.add("".concat(this.className,"__close")),this.modalWrapper.classList.add("".concat(this.className,"__wrapper")),this.modalContent.classList.add("".concat(this.className,"__content")),this.modal.setAttribute("role","dialog"),this.modalFocusStart.setAttribute("tabindex",-1),this.modalFocusEnd.setAttribute("tabindex",0),this.modalWrapper.appendChild(this.modalFocusStart),this.modalWrapper.appendChild(this.modalClose),this.modalWrapper.appendChild(this.modalContent),this.modalWrapper.appendChild(this.modalFocusEnd),this.modal.appendChild(this.modalOverlay),this.modal.appendChild(this.modalWrapper),this.modalFocusEnd.addEventListener("focus",this.focusFirstElement.bind(this)),this.modalClose.addEventListener("click",this.close.bind(this)),this.modalOverlay.addEventListener("click",this.close.bind(this))}var e,n,o;return e=t,o=[{key:"hash",get:function(){var t=/#\!?\/(.+)\//i.exec(window.location.hash);return t&&t.length>1?t[1]:null}}],(n=[{key:"close",value:function(){var e=this;this.state&&(this.modal.classList.remove(this.classNameOpen),this.focusOnClose&&this.focusOnClose.focus(),setTimeout((function(){e.state=!1}),500),t.hash&&history.replaceState("",document.title,window.location.pathname),this.onClose&&this.onClose())}},{key:"open",value:function(){var t=this;if(!this.state){document.body.appendChild(this.modal);var e=this.appended?0:100;this.appended||(this.appended=!0),setTimeout((function(){t.modal.classList.add(t.classNameOpen)}),e),this.state=!0,this.focusFirstElement(),this.onOpen&&this.onOpen(),document.addEventListener("keydown",function e(n){27==n.keyCode&&(t.close(),document.removeEventListener("keydown",e.bind(t),!1))}.bind(this),!1)}}},{key:"focusFirstElement",value:function(){this.modalFocusStart.focus()}},{key:"focusOnClose",get:function(){return this._focusOnClose},set:function(t){!t instanceof HTMLButtonElement&&!t instanceof HTMLAnchorElement&&!t.getAttribute("tabindex")||(this._focusOnClose=t)}},{key:"onOpen",get:function(){return this._onOpen},set:function(t){t&&"function"==typeof t&&(this._onOpen=t)}},{key:"onClose",get:function(){return this._onClose},set:function(t){t&&"function"==typeof t&&(this._onClose=t)}},{key:"optionalClass",set:function(t){t&&"string"==typeof t&&(this.modal.classList.remove(this._optionalClass),this.modal.classList.add(t))}},{key:"closeButtonContent",set:function(t){t&&("string"!=typeof t?t instanceof HTMLElement&&this.modalClose.appendChild(t):this.modalClose.innerHTML=t)}},{key:"content",set:function(t){t&&("string"!=typeof t?t instanceof HTMLElement&&this.modalContent.appendChild(t):this.modalContent.innerHTML=t)}}])&&s(e.prototype,n),o&&s(e,o),t}();e.default=o}]);