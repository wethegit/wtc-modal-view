var WTCModalView=function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={floatRandomBetween:function(e,t){return Math.random()*(t-e+1)+e},randomBetween:function(e,t){return Math.floor(a.floatRandomBetween(e,t))},lerp:function(e,t,n){return(1-n)*e+n*t},once:function(e,t,n){e.addEventListener(t,function(e){return e.target.removeEventListener(e.type,arguments.callee),n(e)})},shuffleArray:function(e){var t,n,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.length;!1===o&&(e=s(e).slice(0));for(;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e},fireCustomEvent:function(e,t,n,o){var s,a={bubbles:n||!0,cancelable:o||!0,detail:t||null};"function"==typeof window.CustomEvent?s=new CustomEvent(e,a):(s=document.createEvent("CustomEvent")).initCustomEvent(e,a.bubbles,a.cancelable,a.detail),window.dispatchEvent(s)}},i=!1;a.forEachNode=function(e,t,n){!1===i&&(i=!0,console.warn("The forEachNode is deprecated and will be removed. Please stop using it."));for(var o=0;o<e.length;o++)t.call(n,o,e[o])},a.getElementPosition=function(e){var t={top:0,left:0};if(!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))t.top=e.offsetTop,t.left=e.offsetLeft;else{var n=e.getBoundingClientRect(),o=window.pageYOffset,s=window.pageXOffset,a=document.body.clientTop||0,i=document.body.clientLeft||0;t.top+=Math.round(n.top+o-a),t.left+=Math.round(n.left+s-i)}return t},a.isChildOf=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!1;return e.parentNode===t&&(o=!0),!0===n&&!1===o&&e.parentNode&&(o=a.isChildOf(e.parentNode,t)),o};var l=!1;a.hasClass=function(e,t){var n,o,s,a,i,r;if(!1===l&&(l=!0,console.warn("The HasClass method is deprecated and will be removed. Please stop using it.")),o=e.split(" "),t.classList){for(s=0,i=o.length;s<i;s++)if(n=o[s],!0===t.classList.contains(n))return!0}else for(a=0,r=o.length;a<r;a++)if(n=o[a],new RegExp("(^| )"+n+"( |$)","gi").test(t.c))return!0;return!1};var r=!1;a.removeClass=function(e,t){var n,o,s,a,i;if(!1===r&&(r=!0,console.warn("The removeClass method is deprecated and will be removed. Please stop using it.")),n=e.split(" "),t.classList)for(o=0,a=n.length;o<a;o++)e=n[o],t.classList.remove(e);else for(s=0,i=n.length;s<i;s++)e=n[s],t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")};var c=!1;a.addClass=function(e,t){var n,o,s,a,i;if(!1===c&&(c=!0,console.warn("The addClass method is deprecated and will be removed. Please stop using it.")),n=e.split(" "),t.classList)for(o=0,a=n.length;o<a;o++)e=n[o],t.classList.add(e);else for(s=0,i=n.length;s<i;s++)e=n[s],t.className+=" "+e},a.getSiblings=function(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})},a.getAncestors=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return n||(n=[]),!0===t&&e.parentNode===document.body?n:(e.parentNode&&(n.splice(0,0,[e.parentNode]),a.getAncestors(e.parentNode,t,n)),n)},a.matches=function(){var e;return(e=document.documentElement).matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector},a.getSelectorForElement=function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,o=e;o.previousElementSibling;o=o.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t.join(" > ")},a.fixWidows=function(e){if(_els=e,e instanceof Node&&(_els=[e]),_els&&_els.length)for(var t=0;t<_els.length;t++){var n=_els[t];n instanceof Node&&(n.innerHTML=n.innerHTML.replace(/\s(?=[^\s]*$)/g,"&nbsp;"))}},a.serializeArray=function(e){var t=[];if("object"==o(e)&&"FORM"==e.nodeName)for(var n=0;n<e.elements.length;n++){var s=e.elements[n];if(s.name&&!s.disabled&&"file"!=s.type&&"reset"!=s.type&&"submit"!=s.type&&"button"!=s.type)if("select-multiple"==s.type)for(var a=0;a<e.elements[n].options.length;a++)s.options[a].selected&&(t[t.length]={name:s.name,value:s.options[a].value});else("checkbox"!=s.type&&"radio"!=s.type||s.checked)&&(t[t.length]={name:s.name,value:s.value})}return t};var d=a;t.default=d},function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||null,o=n.closeHtml,s=n.optionalClass,a=n.onOpen,i=n.onClose;this.state=!1,this.modal=document.createElement("div"),this.modalOverlay=document.createElement("div"),this.modalFocusStart=document.createElement("div"),this.modalFocusEnd=document.createElement("div"),this.modalClose=document.createElement("button"),this.modalClose.innerHTML=o||"<span>Close</span>",this.modalWrapper=document.createElement("div"),this.modalContent=document.createElement("div"),this.className="modal",this.classNameOpen="modal--open",this.appended=!1,this.onOpen=a,this.onClose=i,this.focusOnClose=null,this.modal.classList.add(this.className),s&&this.modal.classList.add(s),this.modalOverlay.classList.add("".concat(this.className,"__overlay")),this.modalFocusStart.classList.add("".concat(this.className,"__focus-start")),this.modalFocusEnd.classList.add("".concat(this.className,"__focus-end")),this.modalClose.classList.add("".concat(this.className,"__close")),this.modalWrapper.classList.add("".concat(this.className,"__wrapper")),this.modalContent.classList.add("".concat(this.className,"__content")),this.modal.setAttribute("role","dialog"),this.modalFocusStart.setAttribute("tabindex",-1),this.modalFocusEnd.setAttribute("tabindex",0),this.modalWrapper.appendChild(this.modalFocusStart),this.modalWrapper.appendChild(this.modalClose),this.modalWrapper.appendChild(this.modalContent),this.modalWrapper.appendChild(this.modalFocusEnd),this.modal.appendChild(this.modalOverlay),this.modal.appendChild(this.modalWrapper),this.modalFocusEnd.addEventListener("focus",this.focusFirstElement),this.modalClose.addEventListener("click",this.close.bind(this)),this.modalOverlay.addEventListener("click",this.close.bind(this))}var t,n,o;return t=e,o=[{key:"hash",get:function(){var e=/#\!?\/(.+)\//i.exec(window.location.hash);return e&&e.length>1?e[1]:null}}],(n=[{key:"close",value:function(){var t=this;this.state&&(this.modal.classList.remove(this.classNameOpen),this.focusOnClose&&(this.focusOnClose instanceof HTMLButtonElement||this.focusOnClose.getAttribute("tabindex")||this.focusOnClose instanceof HTMLAnchorElement?(this.focusOnClose.focus(),this.focusOnClose=null):console.error("focusOnClose element must be a focusable alement, or must have a tabindex attribute.")),setTimeout(function(){t.state=!1},500),e.hash&&history.replaceState("",document.title,window.location.pathname),this.onClose&&this.onClose(),s.a.fireCustomEvent("wtc-modal-close",{modal:this}))}},{key:"open",value:function(e,t){var n=this;if(!this.state){document.body.appendChild(this.modal),e&&("string"==typeof e?this.modalContent.innerHTML=e:this.modalContent.appendChild(e),t&&t instanceof HTMLElement&&(this.focusOnClose=t));var o=this.appended?0:100;this.appended||(this.appended=!0),setTimeout(function(){n.modal.classList.add(n.classNameOpen)},o),this.state=!0,this.focusFirstElement(),this.onOpen&&this.onOpen();document.addEventListener("keydown",function e(t){27==t.keyCode&&(n.close(),document.removeEventListener("keydown",e.bind(n),!1))}.bind(this),!1),s.a.fireCustomEvent("wtc-modal-open",{modal:this})}}},{key:"focusFirstElement",value:function(){this.modalFocusStart.focus()}}])&&a(t.prototype,n),o&&a(t,o),e}();t.default=i}]);