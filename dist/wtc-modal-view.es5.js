var WTCModalView=function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=!1,this.modal=document.createElement("div"),this.modalOverlay=document.createElement("div"),this.modalFocusStart=document.createElement("div"),this.modalFocusEnd=document.createElement("div"),this.modalClose=document.createElement("button"),this.modalClose.innerHTML="<span>Close</span>",this.modalWrapper=document.createElement("div"),this.modalContent=document.createElement("div"),this.wrapperOfContent=document.createElement("div"),this.className="modal",this.classNameOpen="modal--open",this.appended=!1,this.storeContent=!1,this._onOpen=null,this._onClose=null,this._focusOnClose=null,this._content=null,this.modal.classList.add(this.className),this.modalOverlay.classList.add("".concat(this.className,"__overlay")),this.modalFocusStart.classList.add("".concat(this.className,"__focus-start")),this.modalFocusEnd.classList.add("".concat(this.className,"__focus-end")),this.modalClose.classList.add("".concat(this.className,"__close")),this.modalWrapper.classList.add("".concat(this.className,"__wrapper")),this.modalContent.classList.add("".concat(this.className,"__content")),this.wrapperOfContent.classList.add("".concat(this.className,"-content-wrapper")),this.modal.setAttribute("role","dialog"),this.modalFocusEnd.setAttribute("tabindex",0),this.modalFocusStart.setAttribute("tabindex",0),this.modalContent.setAttribute("tabindex",-1),this.modalWrapper.appendChild(this.modalFocusStart),this.modalWrapper.appendChild(this.modalClose),this.modalWrapper.appendChild(this.modalContent),this.modalWrapper.appendChild(this.modalFocusEnd),this.modal.appendChild(this.modalOverlay),this.modal.appendChild(this.modalWrapper),document.body.appendChild(this.wrapperOfContent),this.modalFocusEnd.addEventListener("focus",(function(){e.modalClose.focus()})),this.modalFocusStart.addEventListener("focus",this.focusLastElement.bind(this)),this.modalClose.addEventListener("click",this.close.bind(this)),this.modalOverlay.addEventListener("click",this.close.bind(this))}var e,n,s;return e=t,s=[{key:"hash",get:function(){var t=/#\!?\/(.+)\//i.exec(window.location.hash);return t&&t.length>1?t[1]:null}}],(n=[{key:"close",value:function(){var e=this;this.state&&(this.modal.classList.remove(this.classNameOpen,this.optionalClass),this.focusOnClose&&this.focusOnClose.focus(),setTimeout((function(){e.state=!1,e.modal.style.display="none",e.wrapperOfContent.appendChild(e._content)}),500),t.hash&&history.replaceState("",document.title,window.location.pathname),this.onClose&&this.onClose())}},{key:"open",value:function(){var t=this;if(!this.state){this.modal.classList.add(this.optionalClass),document.body.appendChild(this.modal);var e=this.appended?0:100;this.appended||(this.appended=!0),this.modalContent.append(this._content),this.modal.style.display="block",setTimeout((function(){t.modal.classList.add(t.classNameOpen),t.focusFirstElement()}),e),this.state=!0,this.onOpen&&this.onOpen(),document.addEventListener("keydown",function e(n){27==n.keyCode&&(t.close(),document.removeEventListener("keydown",e.bind(t),!1))}.bind(this),!1)}}},{key:"focusFirstElement",value:function(){var t=function t(e){return e.firstElementChild?t(e.firstElementChild):e}(this.modalContent.firstElementChild);t.setAttribute("tabindex",-1),t.focus()}},{key:"focusLastElement",value:function(){var t=this.modalContent.querySelectorAll('[href], button, [tabindex="0"], [role="button"]');t.length>0?t[t.length-1].focus():this.modalClose.focus()}},{key:"focusOnClose",get:function(){return this._focusOnClose},set:function(t){!t instanceof HTMLButtonElement&&!t instanceof HTMLAnchorElement&&!t.getAttribute("tabindex")||(this._focusOnClose=t)}},{key:"onOpen",get:function(){return this._onOpen},set:function(t){t&&"function"==typeof t&&(this._onOpen=t)}},{key:"onClose",get:function(){return this._onClose},set:function(t){t&&"function"==typeof t&&(this._onClose=t)}},{key:"optionalClass",set:function(t){t&&"string"==typeof t&&(this._optionalClass=t)},get:function(){return this._optionalClass||""}},{key:"closeButtonContent",set:function(t){if(t){if("string"!=typeof t)return t instanceof HTMLElement?(this.modalClose.innerHTML="",void this.modalClose.appendChild(t)):void 0;this.modalClose.innerHTML=t}}},{key:"content",set:function(t){if(t&&!("string"!=typeof t&&!t instanceof HTMLElement)){if(this.storeContent&&this.wrapperOfContent.appendChild(this._content),this._content=t,"string"!=typeof t)return this.storeContent=!0,this.modalContent.innerHTML="",void this.modalContent.appendChild(this._content);this.storeContent=!1,this.modalContent.innerHTML=this._content}}}])&&o(e.prototype,n),s&&o(e,s),t}();e.default=s}]);